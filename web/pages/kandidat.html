<div ng-controller="kandidatController as kandidatCtrl" ng-show="kandidatCtrl.showAll">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Kandidat Kepala Daerah Tingkat {{kandidatCtrl.kandidat.tingkat}}</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-5">
            <div class="form-group">
                <div class="dropdown dropdown-display">
                    <div class="dropdown-toggle" data-toggle="dropdown" >
                        <span>Pemilu Kepala Daerah (PemiluKaDa) Tahun: {{$parent.$tahun}}</span>  <i class="fa fa-caret-down"></i>
                    </div>
                    <ul class="dropdown-menu">
                        <li ng-repeat="tahun in $parent.tahuns">
                            <a href="javascript:" ng-click="kandidatCtrl.setTahun(this)">{{tahun}}</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="kandidatCtrl.isAdmin($parent.user)">
        <div class="col-lg-5">
            <div class="panel panel-blue">
                <form role="form"  ng-submit="kandidatCtrl.dosubmit(user, kandidatCtrl)">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-users fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge" >
                                    <button type="button" ng-show="!kandidatCtrl.showAddNewCandidate" class="btn btn-default btn-circle btn-xl" ng-click="kandidatCtrl.showForm(kandidatCtrl)"><i class="fa fa-plus"></i></button>
                                    <div ng-show="kandidatCtrl.showAddNewCandidate">Data Kandidat</div>
                                </div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body" ng-show="kandidatCtrl.showAddNewCandidate">
                        <div class="row">
                            <div class="col-lg-12">


                                <div class="form-group">
                                    <label>Nama: </label>
                                    <input class="form-control" ng-model="kandidatCtrl.kandidat.nama">                                    
                                </div>
                                <div class="form-group">
                                    <label>Provinsi: </label>
                                    <div class="dropdown dropdown-display">
                                        <div class="dropdown-toggle" data-toggle="dropdown" >
                                            <span>{{kandidatCtrl.kandidat.provinsi}}</span>  <i class="fa fa-caret-down"></i>
                                        </div>
                                        <ul class="dropdown-menu">
                                            <div>
                                                <li ng-repeat="provinsi in kandidatCtrl.provinsis| orderBy: 'nama'" ng-click="kandidatCtrl.setProvinsi(provinsi)">
                                                    {{provinsi.nama}}
                                                </li>
                                            </div>
                                        </ul>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="kandidatCtrl.showKabupaten">
                                    <label>Kabupaten: </label>
                                    <div class="dropdown dropdown-display">
                                        <div class="dropdown-toggle" data-toggle="dropdown" >
                                            <span>{{kandidatCtrl.kandidat.kabupaten}}</span>  <i class="fa fa-caret-down"></i>
                                        </div>
                                        <ul class="dropdown-menu">
                                            <div>
                                                <li ng-repeat="kabkota in kandidatCtrl.kabkotas| orderBy: 'nama'" ng-click="kandidatCtrl.setKabupaten(kabkota)">
                                                    {{kabkota.nama}}
                                                </li>
                                            </div>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <fieldset>
                                        <div class="alert alert-danger" ng-repeat="errorAlert in kandidatCtrl.errorAlerts">{{errorAlert.text}}</div>
                                        <div class="alert alert-success" ng-repeat="successAlert in kandidatCtrl.successAlerts">{{successAlert.text}}</div>
                                    </fieldset>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel-footer">
                        <a href="javascript:" ng-click="kandidatCtrl.showForm(kandidatCtrl)" ng-show="!kandidatCtrl.showAddNewCandidate">
                            <span class="pull-left">Tambah Kandidat Pemilu Kepala Daerah {{$parent.$tahun}}</span>
                            <span class="pull-right"><i class="fa fa-plus-circle"></i></span>
                        </a>
                        <div class="pull-right"  ng-show="kandidatCtrl.showAddNewCandidate && kandidatCtrl.submitShow">
                            <button type="submit" class="btn btn-blue1 btn-circle btn-lg" value=""><i class="fa fa-check"></i></button>
                            <span style="width:20px;">&nbsp;</span>
                            <button type="button" class="btn btn-warning btn-circle btn-lg" value="" ng-click="kandidatCtrl.showForm(kandidatCtrl)"><i class="fa fa-times"></i></button>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </form>
            </div>            
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading-black">
                    <div class="row">
                        <div class="col-xs-3">
                            <i class="fa fa-users fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                            <div class="huge" >
                                <div class="dropdown dropdown-display-inverse">
                                    <div class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                        {{kandidatCtrl.wilayah}}
                                        <span class="caret"></span>
                                    </div>
                                    <ul class="dropdown-menu  pull-right" role="menu">
                                        <li ng-repeat="wilayah in kandidatCtrl.wilayahs">
                                            <a href="javascript:" ng-click="kandidatCtrl.setWilayah(kandidatCtrl, wilayah)">{{wilayah.nama}} | Jumlah Kandidat: {{wilayah.JumlahKandidat}}</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div></div>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-2" ng-repeat="kandidat in kandidatCtrl.kandidats">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-xs-12 text-center">
                                            <div class="huge">{{kandidat.perolahan_suara}}</div>
                                            <div>Jumlah Suara</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-footer">
                                    <div class="row">
                                        <div class="col-xs-12 text-center">
                                            <b>{{kandidat.nama}}</b>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>